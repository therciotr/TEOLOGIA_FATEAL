import{r as a,j as e,B as p,d as h}from"./index-QzwV8IXp.js";import{C as u,a as f}from"./card-D0pWn06Z.js";function N(){const[s,i]=a.useState([]),[r,l]=a.useState(!1),[n,o]=a.useState(null),c=async()=>{l(!0),o(null);try{const t=await h.get("/pagamentos");i(t.data)}catch(t){console.error("Erro ao buscar pagamentos:",t),o("Erro ao carregar pagamentos.")}finally{l(!1)}};a.useEffect(()=>{c()},[]);const m=t=>t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),x=t=>{const d=new Date(t);return`${d.toLocaleDateString("pt-BR")} - ${d.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}`},g=t=>{switch(t.toLowerCase()){case"pix":return"text-green-600 font-semibold";case"boleto":return"text-yellow-600 font-semibold";case"cartao":return"text-blue-600 font-semibold";default:return"text-slate-700 dark:text-slate-300"}};return e.jsxs("div",{className:"flex flex-col min-h-screen p-6 bg-gray-50 dark:bg-slate-900",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-100",children:"Pagamentos"}),r&&e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Carregando pagamentos..."}),n&&e.jsx("p",{className:"text-red-500 font-medium mb-4",children:n}),!r&&s.length===0&&!n&&e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum pagamento encontrado."}),s.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 animate-fade-in",children:s.map(t=>e.jsx(u,{children:e.jsxs(f,{className:"p-4 space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-sm text-slate-500",children:"ID:"})," ",t.id]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-sm text-slate-500",children:"Mensalidade:"})," ",t.mensalidadeId]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-sm text-slate-500",children:"Valor:"})," ",m(t.valor_pago)]}),e.jsxs("p",{className:g(t.metodo),children:[e.jsx("span",{className:"text-sm text-slate-500",children:"MÃ©todo:"})," ",t.metodo]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-sm text-slate-500",children:"Data:"})," ",x(t.data_pagamento)]})]})},t.id))}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(p,{onClick:c,disabled:r,children:"ðŸ”„ Recarregar Pagamentos"})})]})}export{N as default};
