import{b as n,r,j as e,S as u}from"./index-DkCCjxFm.js";import{N as h}from"./Navbar-Be0C4tKJ.js";import{C as f}from"./card-Ds02jRH6.js";async function g(t){const{data:s}=await n.get("/mensalidades",{params:t});return s}async function y(t){const{data:s}=await n.get(`/mensalidades/${t}`);return s}async function b(t){const{data:s}=await n.post("/mensalidades",t);return s}async function j(t,s){const{data:l}=await n.put(`/mensalidades/${t}`,s);return l}async function N(t){await n.delete(`/mensalidades/${t}`)}const w={getMensalidades:g,getMensalidade:y,createMensalidade:b,updateMensalidade:j,deleteMensalidade:N};function M(){const[t,s]=r.useState([]),[l,c]=r.useState(!0),[d,i]=r.useState(null),o=r.useCallback(async()=>{try{c(!0);const a=await w.getMensalidades();s(a)}catch(a){console.error(a),i("Não foi possível carregar as mensalidades.")}finally{c(!1)}},[]),x=a=>a.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),m=a=>new Date(a).toLocaleDateString("pt-BR"),p=a=>({pago:"text-green-600",pendente:"text-yellow-600",vencido:"text-red-600"})[a.toLowerCase()]??"text-slate-700 dark:text-slate-300";return r.useEffect(()=>{o()},[o]),e.jsxs("div",{className:"flex flex-col min-h-screen bg-slate-50 dark:bg-slate-900",children:[e.jsx(h,{}),e.jsxs("div",{className:"flex flex-1",children:[e.jsx(u,{}),e.jsxs("main",{className:"flex-1 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-100",children:"Mensalidades"}),l&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4 animate-pulse",children:"Carregando mensalidades…"}),d&&e.jsx("p",{className:"text-red-500 font-medium mb-4",children:d}),!l&&!t.length&&!d&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nenhuma mensalidade encontrada."}),!!t.length&&e.jsx(f,{className:"overflow-x-auto animate-fade-in",children:e.jsxs("table",{className:"min-w-full table-auto border border-gray-300 dark:border-gray-700 text-sm",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-4 py-2 text-left",children:"Aluno"}),e.jsx("th",{className:"border px-4 py-2 text-left",children:"Valor"}),e.jsx("th",{className:"border px-4 py-2 text-left",children:"Status"}),e.jsx("th",{className:"border px-4 py-2 text-left",children:"Vencimento"})]})}),e.jsx("tbody",{children:t.map(a=>e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[e.jsx("td",{className:"border px-4 py-2",children:a.aluno?.nome??"—"}),e.jsx("td",{className:"border px-4 py-2",children:x(a.valor)}),e.jsx("td",{className:`border px-4 py-2 ${p(a.status)}`,children:a.status}),e.jsx("td",{className:"border px-4 py-2",children:m(a.vencimento)})]},a.id))})]})})]})]})]})}export{M as default};
//# sourceMappingURL=Mensalidades-C4VndffY.js.map
